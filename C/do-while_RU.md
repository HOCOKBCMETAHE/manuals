# Do-While цикл

Здесь собрана информация по работе с циклом do-while в языке программирования C

Информация для перевода взята с сайта [devdocs](https://devdocs.io/c)

Перевел [Egor Kondratov](https://github.com/mavissig)

---

### Связанные статьи:
- [for](./for_RU.md)
- [while](./while_RU.md)

### Содержание
- [Кратко про do-while](#кратко-про-do-while)
- [Синтаксис](#синтаксис)
- [Объяснение](#объяснение)
- [Пример](#пример)

<img src="./materials/pre342323art.png" width="100%">

---

## Кратко про do-while

Выполняет оператор повторно, пока значение условного выражения остается истинным. Проверка условия выполняется после каждой итерации.

---

## Синтаксис

    do {
        ...
        statement
        ...
    } while (expression);

`expression` - Любое выражение скалярного типа. Это выражение вычисляется после каждой итерации, и если оно равно нулю, цикл завершается.\
`statement` - Любой оператор, обычно составной оператор, который является телом цикла.

---

## Объяснение

Цикл do-while приводит к повторному выполнению `statement` (также называемого телом цикла) до тех пор, пока `expression` (также называемое условным выражением) не будет равно 0. Повторение происходит независимо от того, было ли тело цикла выполнено нормально или через оператор goto в середине `statement`.

Оценка `expression` выполняется после каждого выполнения `statement` (независимо от того, был ли он выполнен нормально или через оператор goto). Если условное выражение должно быть оценено перед выполнением тела цикла, могут быть использованы циклы [while](while_RU.md) или [for](./for_RU.md).

Если выполнение цикла должно быть завершено в какой-то момент, можно использовать оператор break в качестве оператора завершения.

Если выполнение цикла должно продолжаться в конце тела цикла, можно использовать оператор continue в качестве сокращения.

Программа с бесконечным циклом имеет неопределенное поведение, если цикл не имеет наблюдаемого поведения (ввод-вывод, доступы к волатильным переменным, атомарные или синхронизационные операции) в любой части своего оператора или `expression`. Это позволяет компиляторам оптимизировать все ненаблюдаемые циклы без доказательства их завершаемости. Единственное исключение составляют циклы, в которых `expression` является константным выражением.

`do {...} while(true);` - всегда является бесконечным циклом.

*Как и все другие операторы выбора и итерации, оператор do-while создает область видимости блока: любой идентификатор, введенный в выражении, выходит из области видимости после выполнения оператора.*


### Примечание


Логические и указательные выражения часто используются в качестве выражений управления циклом. Логическое значение false и значение нулевого указателя любого указательного типа сравниваются с нулем.

---

## Пример

    #include <stdio.h>
    #include <stdlib.h>
    enum { SIZE = 8 };
    int main(void)
    {
        // тривиальный пример
        int array[SIZE], n = 0;
        do array[n++] = rand() % 2; // тело цикла - одно выражение
        while(n < SIZE);
        puts("Array filled!");
        n = 0;
        do { // тело цикла - составной оператор
            printf("%d ", array[n]);
            ++n;
        } while (n < SIZE);
        printf("\n");
    
        // цикл из K&R itoa(). Используется do-while цикл,
        // так как всегда нужно сгенерировать хотя бы одну цифру
        int num = 1234, i=0;
        char s[10];
        do s[i++] = num % 10 + '0'; // получение следующей цифры в обратном порядке
        while ((num /= 10) > 0);
        s[i] = '\0';
        puts(s);
    }

Output:

    Array filled!
    1 0 1 1 1 1 0 0
    4321

---
---